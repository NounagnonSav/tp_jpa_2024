SET DATABASE UNIQUE NAME HSQLDB8D4113E0D0
SET DATABASE DEFAULT RESULT MEMORY ROWS 0
SET DATABASE EVENT LOG LEVEL 0
SET DATABASE TRANSACTION CONTROL LOCKS
SET DATABASE DEFAULT ISOLATION LEVEL READ COMMITTED
SET DATABASE TRANSACTION ROLLBACK ON CONFLICT TRUE
SET DATABASE TEXT TABLE DEFAULTS ''
SET DATABASE SQL NAMES FALSE
SET DATABASE SQL RESTRICT EXEC FALSE
SET DATABASE SQL REFERENCES FALSE
SET DATABASE SQL SIZE TRUE
SET DATABASE SQL TYPES FALSE
SET DATABASE SQL TDC DELETE TRUE
SET DATABASE SQL TDC UPDATE TRUE
SET DATABASE SQL SYS INDEX NAMES TRUE
SET DATABASE SQL CONCAT NULLS TRUE
SET DATABASE SQL UNIQUE NULLS TRUE
SET DATABASE SQL CONVERT TRUNCATE TRUE
SET DATABASE SQL AVG SCALE 0
SET DATABASE SQL DOUBLE NAN TRUE
SET FILES WRITE DELAY 500 MILLIS
SET FILES BACKUP INCREMENT TRUE
SET FILES CACHE SIZE 10000
SET FILES CACHE ROWS 50000
SET FILES SCALE 32
SET FILES LOB SCALE 32
SET FILES DEFRAG 0
SET FILES NIO TRUE
SET FILES NIO SIZE 256
SET FILES LOG TRUE
SET FILES LOG SIZE 50
SET FILES CHECK 150
SET DATABASE COLLATION "SQL_TEXT" PAD SPACE
CREATE USER SA PASSWORD DIGEST 'd41d8cd98f00b204e9800998ecf8427e'
ALTER USER SA SET LOCAL TRUE
CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE SEQUENCE PUBLIC.COMMENTS_SEQ AS INTEGER START WITH 1 INCREMENT BY 50
CREATE SEQUENCE PUBLIC.PROJECTS_SEQ AS INTEGER START WITH 1 INCREMENT BY 50
CREATE SEQUENCE PUBLIC.TAGS_SEQ AS INTEGER START WITH 1 INCREMENT BY 50
CREATE SEQUENCE PUBLIC.TICKETS_SEQ AS INTEGER START WITH 1 INCREMENT BY 50
CREATE SEQUENCE PUBLIC.UTILISATEUR_SEQ AS INTEGER START WITH 1 INCREMENT BY 50
CREATE MEMORY TABLE PUBLIC.COMMENTS(CREATED_AT DATE,UPDATED_AT DATE,CREATED_BY_ID BIGINT,ID BIGINT NOT NULL PRIMARY KEY,TICKETS_ID BIGINT,CONTENT VARCHAR(255),UNIQUE(CREATED_BY_ID),UNIQUE(TICKETS_ID))
CREATE MEMORY TABLE PUBLIC.PROJECTS(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(255))
CREATE MEMORY TABLE PUBLIC.TAGS(CREATED_AT DATE,CREATED_BY_ID BIGINT,ID BIGINT NOT NULL PRIMARY KEY,DESCRIPTION VARCHAR(255),NAME VARCHAR(255),UNIQUE(CREATED_BY_ID))
CREATE MEMORY TABLE PUBLIC.TAGS_TICKETS(TAGS_ID BIGINT NOT NULL,TICKETS_ID BIGINT NOT NULL,CONSTRAINT FKEW7I4R1JTMEJ5UMALOS0XJ5UQ FOREIGN KEY(TAGS_ID) REFERENCES PUBLIC.TAGS(ID))
CREATE MEMORY TABLE PUBLIC.TICKETS(CREATED_AT DATE,MILISTONE DATE,UPDATED_AT DATE,CREATED_BY_ID BIGINT,ID BIGINT NOT NULL PRIMARY KEY,PROJECT_ID BIGINT,CONTENT VARCHAR(255),STATE VARCHAR(255),TITLE VARCHAR(255),UNIQUE(CREATED_BY_ID),UNIQUE(PROJECT_ID),CHECK((PUBLIC.TICKETS.STATE) IN (('OPEN'),('DOING'),('CLOSE'))),CONSTRAINT FKPNA0A7XH2K4E151QM2XLVNN FOREIGN KEY(PROJECT_ID) REFERENCES PUBLIC.PROJECTS(ID))
CREATE MEMORY TABLE PUBLIC.TICKETS_TAGS(TICKETS_ID BIGINT NOT NULL,TAGS_ID BIGINT NOT NULL,CONSTRAINT FKE8HRX7RISHMB5AWTYWFRX7L0H FOREIGN KEY(TAGS_ID) REFERENCES PUBLIC.TAGS(ID),CONSTRAINT FKREDVE2T4VJ1HQKBSWE18D8F9B FOREIGN KEY(TICKETS_ID) REFERENCES PUBLIC.TICKETS(ID))
CREATE MEMORY TABLE PUBLIC.TICKETS_UTILISATEUR(TICKETS_ID BIGINT NOT NULL,ASSIGN_TO_ID BIGINT NOT NULL,CONSTRAINT FK8J9GK4JANFHRGFQRNXEX8XKS1 FOREIGN KEY(TICKETS_ID) REFERENCES PUBLIC.TICKETS(ID))
CREATE MEMORY TABLE PUBLIC.UTILISATEUR(ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(255),ROLE VARCHAR(255),USERNAME VARCHAR(255),CHECK((PUBLIC.UTILISATEUR.ROLE) IN (('REPORTER'),('DEVELOPER'),('MAINTENER'),('OWNER'))))
CREATE MEMORY TABLE PUBLIC.UTILISATEUR_TICKETS(UTILISATEUR_ID BIGINT NOT NULL,TICKETS_ID BIGINT NOT NULL,CONSTRAINT FKBHP7CBPVEJ1ACPTKNRUG384PB FOREIGN KEY(TICKETS_ID) REFERENCES PUBLIC.TICKETS(ID),CONSTRAINT FK96HBK6NBX76K7776V8NEYPR3Y FOREIGN KEY(UTILISATEUR_ID) REFERENCES PUBLIC.UTILISATEUR(ID))
CREATE MEMORY TABLE PUBLIC.PROJECTS_TICKETS(PROJECTS_ID BIGINT NOT NULL,TICKETSLIST_ID BIGINT NOT NULL,UNIQUE(TICKETSLIST_ID),CONSTRAINT FKNSUVUKE5N0P526KO6B71XN6SP FOREIGN KEY(TICKETSLIST_ID) REFERENCES PUBLIC.TICKETS(ID),CONSTRAINT FKICQ81PEW0UXTVWL9FP0IHMTYF FOREIGN KEY(PROJECTS_ID) REFERENCES PUBLIC.PROJECTS(ID))
CREATE MEMORY TABLE PUBLIC.TICKETS_COMMENTS(TICKETS_ID BIGINT NOT NULL,COMMENTS_ID BIGINT NOT NULL,UNIQUE(COMMENTS_ID),CONSTRAINT FKMU7A9HIEKSY0QFSNC9PP0BC9U FOREIGN KEY(COMMENTS_ID) REFERENCES PUBLIC.COMMENTS(ID),CONSTRAINT FKCW6XNJIOG83FFG9UC3KD6FI6N FOREIGN KEY(TICKETS_ID) REFERENCES PUBLIC.TICKETS(ID))
ALTER TABLE PUBLIC.COMMENTS ADD CONSTRAINT FK5Q4DEIJMVAPJ9B3UF18J5CFSY FOREIGN KEY(CREATED_BY_ID) REFERENCES PUBLIC.UTILISATEUR(ID)
ALTER TABLE PUBLIC.COMMENTS ADD CONSTRAINT FKMLLR3G1B4732IC8TVQRIF4C8K FOREIGN KEY(TICKETS_ID) REFERENCES PUBLIC.TICKETS(ID)
ALTER TABLE PUBLIC.TAGS ADD CONSTRAINT FKSUV0RBWTDJJ89RGEGMKBXKP17 FOREIGN KEY(CREATED_BY_ID) REFERENCES PUBLIC.UTILISATEUR(ID)
ALTER TABLE PUBLIC.TAGS_TICKETS ADD CONSTRAINT FK2V94LBAI9HEHYQNUHBANMJ8FW FOREIGN KEY(TICKETS_ID) REFERENCES PUBLIC.TICKETS(ID)
ALTER TABLE PUBLIC.TICKETS ADD CONSTRAINT FKLB10EKID1RVVW5FABNMGDE4T2 FOREIGN KEY(CREATED_BY_ID) REFERENCES PUBLIC.UTILISATEUR(ID)
ALTER TABLE PUBLIC.TICKETS_UTILISATEUR ADD CONSTRAINT FK81VXV5ITUKOWPFRAQVAG8BUB3 FOREIGN KEY(ASSIGN_TO_ID) REFERENCES PUBLIC.UTILISATEUR(ID)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 1
ALTER SEQUENCE PUBLIC.COMMENTS_SEQ RESTART WITH 1
ALTER SEQUENCE PUBLIC.PROJECTS_SEQ RESTART WITH 1
ALTER SEQUENCE PUBLIC.TAGS_SEQ RESTART WITH 1
ALTER SEQUENCE PUBLIC.TICKETS_SEQ RESTART WITH 1
ALTER SEQUENCE PUBLIC.UTILISATEUR_SEQ RESTART WITH 101
SET DATABASE DEFAULT INITIAL SCHEMA PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CARDINAL_NUMBER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.YES_OR_NO TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CHARACTER_DATA TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.SQL_IDENTIFIER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.TIME_STAMP TO PUBLIC
GRANT DBA TO SA
SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
SET SCHEMA PUBLIC
INSERT INTO UTILISATEUR VALUES(1,'Jakab Gipsz','DEVELOPER','user1')
INSERT INTO UTILISATEUR VALUES(2,'Captain Nemo','MAINTENER','user2')
